<?xml version="1.0"?>
<project name="surules" >

	<property environment="env"/>

	<patternset id="tools.classpath.patternset">
		<include name="*.jar"/>
	</patternset>

	<path id="tools.classpath">
		<fileset dir="${env.JRULES_ANT_LIB}">
			<patternset refid="tools.classpath.patternset"/>
		</fileset>
	</path>

	<taskdef resource="res-tasks.properties">
		<classpath refid="tools.classpath"/>
	</taskdef>

	<target name="deploy-surules">
		<res-deploy 
			hostname="${ODM_HOST}" 
			portnumber="${ODM_PORT}" 
			userid="${env.ODM_USER_CREDS_USR}" 
			password="${env.ODM_USER_CREDS_PSW}" 
			file="./SU-rules/target/surules.jar" 
			mergingpolicy="ADD_AT_END_RULESET_MERGING_POLICY"
			versioningpolicy="MAJOR_VERSION_POLICY">
			<xompath libname="surules">
				<fileset dir="./SU-rules/target/lib">
					<include name="*.jar" />
				</fileset>
			</xompath>
		</res-deploy>
	</target>
</project>