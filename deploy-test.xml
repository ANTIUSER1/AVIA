<?xml version="1.0"?>
<project name="surules" >

	<!-- <property name="executionserver.home" value="C:/dev/IBM/ODM89/executionserver"/> -->
	<!-- <import file="${executionserver.home}/lib/classpath-executionserver.xml"/> -->

	<!-- <taskdef resource="res-tasks.properties" classpath="${executionserver.tools.classpath}"> -->
	<!-- <classpath refid="executionserver.tools.classpath"/> -->
	<!-- </taskdef> -->

	<property environment="env"/>

	<patternset id="tools.classpath.patternset">
		<include name="*.jar"/>
	</patternset>

	<path id="tools.classpath">
		<fileset dir=".">
			<patternset refid="tools.classpath.patternset"/>
		</fileset>
	</path>

	<taskdef resource="res-tasks.properties">
		<classpath refid="tools.classpath"/>
	</taskdef>

	<target name="DeployRulesArchive">
		<res-deploy 
			hostname="${env.ODM_HOST}" 
			portnumber="${env.ODM_PORT}" 
			userid="${env.ODM_USER_CREDS_USR}" 
			password="${env.ODM_USER_CREDS_PSW}" 
			file="./SU-rules/target/surules.jar" 
			mergingpolicy="ADD_AT_END_RULESET_MERGING_POLICY"
			versioningpolicy="MAJOR_VERSION_POLICY">
			<xompath libname="surules">
				<fileset dir="./SU-rules/target/lib">
					<include name="*.jar" />
				</fileset>
			</xompath>
		</res-deploy>
	</target>
</project>